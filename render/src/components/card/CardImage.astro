---
import type { Card } from "../../types/Card"
import { cn } from "../../utils/cn"
import { convertCidToUrl } from "../../utils/convertCidToUrl"
import { rarityBoxShadow, rarityToColor } from "../../utils/rarity"

interface Props {
    card: Card
    breathingEffect: boolean
}

const {
    card: { image, rarity },
    breathingEffect,
} = Astro.props

const style = {
    "--rarity-color": rarityToColor(rarity),
}
---

<div
    style={style}
    class:list={[
        "flex w-36 h-36 max-lg:w-32 max-lg:h-32",
        "p-1 rounded-xl bg-light-bgDark dark:bg-dark-bgDark border",
        "border-light-border dark:border-dark-border select-none",
        "shadow-card",
        rarityBoxShadow[rarity],
        breathingEffect && "breathing-effect",
    ]}
>
    <img
        class={cn("w-full h-full rounded-lg")}
        crossorigin="anonymous"
        src={convertCidToUrl(image)}
        alt="Card image"
    />
</div>
